$(document).ready(function() {

	$(".work__form").submit(function() {
		$.ajax({
			type: "POST",
			url: "/static/php/action_ajax_form.php",
			data: $(this).serialize()
		}).done(function() {
			$(this).find(".info").val("");
			$(".work__messeg").css("display", "block");
			$(".work__off").on( "click", function() {
				$(".work__messeg").css("display", "none")
			});
			$(".work__form").trigger("reset");
		});
		return false;
	});
	
});
$(document).ready(function (){
  $(".header__item").on("click","a", function (event) {
      event.preventDefault();
      var id  = $(this).attr('href'),
          top = $(id).offset().top;
      $('body,html').animate({scrollTop: top}, 1500);
  });
});

$(document).ready(function(){
  $("#arroButton").on("click","a", function (event) {
      event.preventDefault();
      var id  = $(this).attr('href'),
          top = $(id).offset().top;
      $('body,html').animate({scrollTop: top}, 1500);
  });
});
var amountScrolled = 300;

$(window).scroll(function() {
	if ( $(window).scrollTop() > amountScrolled ) {
		$('.work__arrow').fadeIn('slow');
	} else {
		$('.work__arrow').fadeOut('slow');
	}
});

$('.work__arrow').click(function() {
	$('html, body').animate({
		scrollTop: 0
	}, 900);
	return false;
});
let header__toogle = document.querySelector(".header__toogle");
let header__item = document.querySelector(".header__item");
let header__out = document.querySelector(".header__out");
let header__nav = document.querySelector(".header__nav");

header__toogle.addEventListener("click", () => {
  header__item.classList.add("active");
  header__toogle.style.display = "none";
  header__out.style.display = "flex";
  header__nav.classList.add("active__color")
})

header__out.addEventListener("click", () => {
  header__item.classList.remove("active");
  header__toogle.style.display = "flex";
  header__out.style.display = "none";
  header__nav.classList.remove("active__color")
})



$(function(){  
  $('.header__items').mouseover(function(){
      $('.header__items').removeClass('header__items_active').addClass('header__items_NoActive');
      $(this).removeClass('header__items_NoActive').addClass('header__items_active'); 
      return false;
  });
});
$(window).scroll(function(){
  $('.header__nav').toggleClass('header__fixed', $(this).scrollTop() > 0);
  $('.header__cross').toggleClass('header__cross_add', $(this).scrollTop() > 0);
});

let work__button = document.querySelector(".work__button");
let work__text = document.querySelector(".work__text");
let work__email = document.querySelector(".work__email");
let work__field = document.querySelector(".work__field");

let btnValid = () => {
  if(work__text.value != "" && work__email.value != "" && work__field.value != ""){
    work__button.removeAttribute("disabled")
  }
}

let validInput = () => {
  if(work__text.value == "" && work__email.value == "" && work__field.value == ""){
    work__text.addEventListener("input", () => {
      if(work__text.value == "") {
        work__text.style.border = "1px solid red";
        work__button.setAttribute("disabled", "disabled")
      }
      else {
        work__text.style.border = "1px solid green";
        if(work__text.value != "" && work__email.value != "" && work__field.value != "") {
          work__button.removeAttribute("disabled")
        }
      }
    })
    work__email.addEventListener("input", () => {
      if(work__email.value == "") {
        work__email.style.border = "1px solid red";
        work__button.setAttribute("disabled", "disabled")
      }
      else {
        work__email.style.border = "1px solid green";
        if(work__text.value != "" && work__email.value != "" && work__field.value != "") {
          work__button.removeAttribute("disabled",)
        }
      }
    })
    work__field.addEventListener("input", () => {
      if(work__field.value == "") {
        work__field.style.border = "1px solid red";
        work__button.setAttribute("disabled", "disabled")
      }
      else {
        work__field.style.border = "1px solid green";
        if(work__text.value != "" && work__email.value != "" && work__field.value != "") {
          work__button.removeAttribute("disabled")
        }
      }
    })
  }
}
validInput();

